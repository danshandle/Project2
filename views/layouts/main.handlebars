<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="/styles/styles.css" media="screen" title="no title" charset="utf-8">
  <title>Stats Tracker 9000</title>
</head>

<body>
  {{{body}}}
</body>

<script>
  $(document).ready(() => {

    $(document).on('click', '.home-team-btn', function () {
      $('#home-roster').empty();
      let
        id = $(this).data('id')

      $.ajax(`/api/home/team/${id}`, {
        type: 'GET'

      }).then(
         function(data) {


           data.reduce(function(table, row){
             $(`<tr>
                <th scope="row">${row.jersey_number}</th>
                <td>${row.player_name}</td>
                <td>${row.position}</td>
                <td>${row.handness}</td>
                <td>avg</td>
              </tr>`).appendTo(table);

              return table;

           }, $(`<table class="table">
                  <thead>
                    <tr>
                      <th scope="col">Roster</th>
                      <th scope="col">Name</th>
                      <th scope="col">Position</th>
                      <th scope="col">Hand</th>
                      <th scope="col">Avg</th>
                    </tr>
                  </thead>
                  <tbody id="home-roster"></tbody>
                </table>`)).appendTo($('#home-roster'))
        }
      );
    });

    $('.away-team-btn').on('click', function () {
       $('#away-roster').empty();
      let
        id = $(this).data('id')
      console.log(`clicked  ${id}`)

      $.ajax(`/api/away/team/${id}`, {
        type: 'GET'

      }).then(
         function(data) {


           data.reduce(function(table, row){
             $(`<tr>
                <th scope="row">${row.jersey_number}</th>
                <td>${row.player_name}</td>
                <td>${row.position}</td>
                <td>${row.handness}</td>
                <td>avg</td>
              </tr>`).appendTo(table);

              return table;

           }, $(`<table class="table">
                  <thead>
                    <tr>
                      <th scope="col">Roster</th>
                      <th scope="col">Name</th>
                      <th scope="col">Position</th>
                      <th scope="col">Hand</th>
                      <th scope="col">Avg</th>
                    </tr>
                  </thead>
                  <tbody id="home-roster"></tbody>
                </table>`)).appendTo($('#away-roster'))
        }
      );
    });
  })


</script>

</html>